<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Financial Breakdown</title>
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Red+Rose:wght@700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet"/>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
    }
    .slide-container {
        width: 1280px;
        min-height: 720px;
        max-height: 720px;
        background-color: white;
        position: relative;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    .header {
        padding: 40px 60px 20px;
    }
    .main-title {
        font-family: 'Red Rose', cursive;
        font-weight: 700;
        color: #007559;
        font-size: 48px;
        line-height: 1.2;
        margin-bottom: 8px;
    }
    .subtitle {
        font-family: 'Red Rose', cursive;
        font-weight: 700;
        color: #333333;
        font-size: 28px;
        line-height: 1.3;
        margin-bottom: 16px;
    }
    .intro-text {
        font-family: 'Raleway', sans-serif;
        font-weight: 500;
        color: #333333;
        font-size: 18px;
        line-height: 1.5;
        margin-bottom: 15px;
        text-align: center;
    }
    .content-container {
        display: flex;
        padding: 25px 60px 40px;
        gap: 40px;
        flex-grow: 1;
    }
    .chart-container {
        flex: 2;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .chart-box {
        width: 100%;
        height: 380px;
        position: relative;
    }
    .sidebar {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .investment-box {
        background-color: #007559;
        color: white;
        border-radius: 16px;
        padding: 30px;
        display: flex;
        flex-direction: column;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }
    .investment-title {
        font-family: 'Red Rose', cursive;
        font-weight: 700;
        font-size: 26px;
        margin-bottom: 20px;
    }
    .investment-item {
        font-family: 'Raleway', sans-serif;
        margin-bottom: 12px;
        display: flex;
        justify-content: space-between;
    }
    .item-label {
        font-weight: 500;
        font-size: 14px;
        color: white !important;
    }
    .item-value {
        font-weight: 700;
        font-size: 14px;
        color: white !important;
    }
    .total-row {
        border-top: 1px solid rgba(255, 255, 255, 0.3);
        margin-top: 15px;
        padding-top: 15px;
        font-weight: 700;
        font-size: 16px;
    }
    .total-row .item-label,
    .total-row .item-value {
        color: white !important;
        font-size: 16px !important;
    }
    .legend-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 20px;
    }
    .legend-item {
        display: flex;
        align-items: center;
        margin: 8px 15px;
    }
    .color-box {
        width: 16px;
        height: 16px;
        margin-right: 8px;
        border-radius: 3px;
    }
    .legend-text {
        font-family: 'Raleway', sans-serif;
        font-size: 16px;
        font-weight: 500;
    }
    .logo {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 120px;
        height: 120px;
        z-index: 100;
        opacity: 1;
    }
</style>
</head>
<body>
<div class="slide-container">
<img src="/Barn Gym Logo transparent copy.png" alt="Barn Gym Logo" class="logo">
<div class="header">
<div class="main-title">Projected Cost Savings Breakdown</div>
<div class="intro-text">Our corporate wellness program delivers savings across four critical business areas:</div>
</div>
<div class="content-container">
<div class="chart-container">
<div class="chart-box">
<canvas id="costSavingsPieChart"></canvas>
</div>
<div class="legend-container">
<div class="legend-item">
<div class="color-box" style="background-color: #007559;"></div>
<div class="legend-text">Absenteeism: £{{SICK_DAYS_SAVINGS}} ({{SICK_DAYS_PERCENTAGE}}%)</div>
</div>
<div class="legend-item">
<div class="color-box" style="background-color: #009B77;"></div>
<div class="legend-text">Productivity: £{{PRODUCTIVITY_SAVINGS}} ({{PRODUCTIVITY_PERCENTAGE}}%)</div>
</div>
<div class="legend-item">
<div class="color-box" style="background-color: #52BCA3;"></div>
<div class="legend-text">Healthcare: £{{HEALTHCARE_SAVINGS}} ({{HEALTHCARE_PERCENTAGE}}%)</div>
</div>
<div class="legend-item">
<div class="color-box" style="background-color: #7FD1BB;"></div>
<div class="legend-text">Turnover: £{{TURNOVER_SAVINGS}} ({{TURNOVER_PERCENTAGE}}%)</div>
</div>
</div>
</div>
<div class="sidebar">
<div class="investment-box">
<div class="investment-title">Investment Details</div>
<div class="investment-item">
<div class="item-label">Annual Cost</div>
<div class="item-value">£{{ANNUAL_PROGRAM_COST}}</div>
</div>
<div class="investment-item">
<div class="item-label">Cost per employee</div>
<div class="item-value">£175 / month</div>
</div>
<div class="investment-item">
<div class="item-label">After Tax Relief (25%)</div>
<div class="item-value">£{{AFTER_TAX_COST}}</div>
</div>
<div class="investment-item total-row">
<div class="item-label">Total Savings</div>
<div class="item-value">£{{TOTAL_SAVINGS}}</div>
</div>
<div class="investment-item">
<div class="item-label">Net Benefit</div>
<div class="item-value">£{{NET_SAVINGS}}</div>
</div>
</div>
</div>
</div>
<script>
// Chart data will be populated dynamically
Chart.register(ChartDataLabels);
const ctx = document.getElementById('costSavingsPieChart').getContext('2d');
const costSavingsPieChart = new Chart(ctx, {
    type: 'pie',
    data: {
        labels: ['Absenteeism', 'Productivity', 'Healthcare', 'Turnover'],
        datasets: [{
            data: [{{SICK_DAYS_PERCENTAGE}}, {{PRODUCTIVITY_PERCENTAGE}}, {{HEALTHCARE_PERCENTAGE}}, {{TURNOVER_PERCENTAGE}}],
            backgroundColor: [
                '#007559',
                '#009B77',
                '#52BCA3',
                '#7FD1BB'
            ],
            borderWidth: 0,
            borderColor: 'transparent',
            spacing: 0
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false,
        layout: {
            padding: 0
        },
        elements: {
            arc: {
                borderWidth: 0,
                borderColor: 'transparent'
            }
        },
        plugins: {
            legend: {
                display: false
            },
            tooltip: {
                callbacks: {
                    label: function(context) {
                        const label = context.label || '';
                        const value = context.raw || 0;
                        return `${label}: ${value}%`;
                    }
                }
            },
            datalabels: {
                color: 'white',
                font: {
                    weight: 'bold',
                    size: 16
                },
                formatter: (value, ctx) => {
                    return value + '%';
                },
                display: function(context) {
                    return context.parsed > 5; // Only show if percentage is > 5%
                }
            }
        }
    }
});
</script>
</div>
</body>
</html>
